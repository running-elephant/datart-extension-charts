(function(){"use strict";const e={datas:[{label:"dimension",key:"dimension",required:true,type:"group",maxFieldCount:1},{label:"metrics",key:"metrics",required:true,type:"aggregate",maxFieldCount:1,actions:{NUMERIC:["aggregate","alias","format","colorRange"],STRING:["aggregate","alias","format","colorRange"]}},{label:"filter",key:"filter",type:"filter",allowSameField:true},{label:"size",key:"size",type:"size",maxFieldCount:1}],styles:[{label:"map.title",key:"map",comType:"group",rows:[{label:"map.level",key:"level",comType:"select",default:"china",options:{items:[{label:"中国-省级地图",value:"china"},{label:"中国-地市级地图",value:"china-city"}]}},{label:"map.theme",key:"theme",comType:"select",default:"light",options:{items:[{label:"明亮",value:"light"},{label:"黑暗",value:"dark"}]}},{label:"map.cycleRatio",key:"cycleRatio",comType:"slider",default:1,options:{items:[1,2,4,8]}}]},{label:"label.title",key:"label",comType:"group",rows:[{label:"label.showLabel",key:"showLabel",default:true,comType:"checkbox"},{label:"label.position",key:"position",comType:"select",default:"top",options:{items:[{label:"上",value:"top"},{label:"左",value:"left"},{label:"右",value:"right"},{label:"下",value:"bottom"},{label:"内",value:"inside"},{label:"内左",value:"insideLeft"},{label:"内右",value:"insideRight"},{label:"内上",value:"insideTop"},{label:"内下",value:"insideBottom"},{label:"内左上",value:"insideTopLeft"},{label:"内左下",value:"insideBottomLeft"},{label:"内右上",value:"insideTopRight"},{label:"内右下",value:"insideBottomRight"}]}},{label:"font",key:"font",comType:"font",default:{fontFamily:"PingFang SC",fontSize:"12",fontWeight:"normal",fontStyle:"normal",color:"black"}}]},{label:"viz.palette.style.visualMap.title",key:"visualMap",comType:"group",rows:[{label:"viz.palette.style.visualMap.show",key:"show",default:true,comType:"checkbox"},{label:"viz.palette.style.visualMap.orient",key:"orient",comType:"select",default:"vertical",options:{items:[{label:"竖直",value:"vertical"},{label:"水平",value:"horizontal"}]}},{label:"viz.palette.style.visualMap.align",key:"align",comType:"select",default:"auto",options:{items:[{label:"自动",value:"auto"},{label:"右",value:"right"},{label:"上",value:"top"},{label:"下",value:"bottom"},{label:"左",value:"left"}]}},{label:"viz.palette.style.visualMap.itemWidth",key:"itemWidth",default:20,comType:"inputNumber"},{label:"viz.palette.style.visualMap.itemHeight",key:"itemHeight",default:140,comType:"inputNumber"},{label:"font",key:"font",comType:"font",default:{fontFamily:"PingFang SC",fontSize:"12",fontWeight:"normal",fontStyle:"normal",color:"black"}}]}],i18ns:[{lang:"zh-CN",translation:{chartName:"数维3D示例",common:{showAxis:"显示坐标轴",inverseAxis:"反转坐标轴",lineStyle:"线条样式",borderType:"边框线条类型",borderWidth:"边框线条宽度",borderColor:"边框线条颜色",backgroundColor:"背景颜色",showLabel:"显示标签",unitFont:"刻度字体",rotate:"旋转角度",position:"位置",showInterval:"显示刻度",interval:"刻度间隔",showTitleAndUnit:"显示标题和刻度",nameLocation:"标题位置",nameRotate:"标题旋转",nameGap:"标题与轴线距离",min:"最小值",max:"最大值"},label:{title:"标签",showLabel:"显示标签",position:"位置"},map:{title:"地图设置",level:"默认地图等级",enableZoom:"开启缩放",theme:"主题",cycleRatio:"气泡大像素比"},background:{title:"背景设置"}}},{lang:"en-US",translation:{chartName:"Sovit 3D Sample",common:{showAxis:"Show Axis",inverseAxis:"Inverse Axis",lineStyle:"Line Style",borderType:"Border Type",borderWidth:"Border Width",borderColor:"Border Color",backgroundColor:"Background Color",showLabel:"Show Label",unitFont:"Unit Font",rotate:"Rotate",position:"Position",showInterval:"Show Interval",interval:"Interval",showTitleAndUnit:"Show Title and Unit",nameLocation:"Name Location",nameRotate:"Name Rotate",nameGap:"Name Gap",min:"Min",max:"Max"},label:{title:"Label",showLabel:"Show Label",position:"Postion"},map:{title:"Setting",level:"Level",enableZoom:"Enable Zoom",theme:"Theme",cycleRatio:"Cycle Ratio"},background:{title:"Background Setting"}}}]};var t='<?xml version="1.0" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"\n "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">\n<svg version="1.0" xmlns="http://www.w3.org/2000/svg"\n width="378.000000pt" height="386.000000pt" viewBox="0 0 378.000000 386.000000"\n preserveAspectRatio="xMidYMid meet">\n\n<g transform="translate(0.000000,386.000000) scale(0.100000,-0.100000)"\nfill="#000000" stroke="none">\n<path d="M945 3409 c-506 -241 -924 -444 -929 -452 -5 -8 -7 -21 -4 -28 3 -8\n93 -56 199 -106 107 -51 522 -248 923 -438 401 -190 736 -345 745 -343 8 2 17\n11 19 20 2 12 -20 27 -85 58 -559 261 -1332 635 -1326 640 4 4 319 154 698\n334 380 181 700 334 713 342 22 14 22 18 22 202 0 192 -4 213 -39 211 -9 -1\n-430 -198 -936 -440z"/>\n<path d="M3565 2705 c-60 -30 -447 -215 -860 -412 -734 -351 -789 -380 -742\n-399 8 -3 64 18 123 47 247 118 1220 581 1232 586 9 4 12 -143 12 -713 l1\n-719 42 -20 c23 -11 117 -60 210 -108 l167 -88 0 921 c0 616 -3 928 -10 941\n-17 30 -55 22 -175 -36z"/>\n<path d="M24 2735 c-4 -9 -3 -20 2 -25 5 -4 395 -191 867 -416 l857 -408 0\n-733 c0 -403 -1 -733 -3 -733 -2 0 -377 178 -833 395 -456 218 -841 398 -856\n402 -37 7 -39 -7 -36 -210 l3 -168 870 -415 c478 -228 876 -413 885 -412 13 3\n15 105 15 956 l0 953 -860 410 c-473 225 -870 412 -882 415 -16 4 -25 1 -29\n-11z"/>\n</g>\n</svg>';function a(a){var l=a.dHelper;return{isISOContainer:"sovit-sample",chart:null,config:e,dependency:["https://admin.sovitjs.com/static/sovitjs/jquery-ui.css","https://admin.sovitjs.com/static/sovitjs/SovitChartPaser.min.js"],meta:{id:"experiment-sovit-smaple",name:"chartName",icon:t,requirements:[{group:1,aggregate:[1,2]}]},onMount:function(e,t){if(void 0===e.containerId||!t.document)return;if("SovitChartPaser"in t.window){var a=t.window.SovitChartPaser;var l=new a.SceneMain({apiurl:"https://admin.sovitjs.com/restapi",publishType:1});l.initChart(e.containerId,{pageId:"3221068859372994564"},(function(e,t,a){console.log("comId, eventType, reData ---\x3e ",e,t,a)}))}},onUpdated:function(e,t){var a,l,o;if(!e.dataset||!e.dataset.columns||!e.config)return;if(!this.isMatchRequirement(e.config)){null===(a=this.chart)||void 0===a?void 0:a.clear();return}null===(l=this.chart)||void 0===l?void 0:l.clear();var i=this.getOptions(e.dataset,e.config);null===(o=this.chart)||void 0===o?void 0:o.setOption(Object.assign({},i),true)},onUnMount:function(){var e;null===(e=this.chart)||void 0===e?void 0:e.dispose()},onResize:function(e,t){var a;null===(a=this.chart)||void 0===a?void 0:a.resize(t)},getOptions:function(e,t){var a=t.styles;var o=t.datas||[];o.filter((function(e){return"group"===e.type})).flatMap((function(e){return e.rows||[]}));o.filter((function(e){return"aggregate"===e.type})).flatMap((function(e){return e.rows||[]}));o.filter((function(e){return"size"===e.type})).flatMap((function(e){return e.rows||[]}));l.transformToDataSet(e.rows,e.columns,o);l.getValue(a,["map","theme"]);return null}}}return a})();
